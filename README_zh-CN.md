## FVessel: 用于船舶检测、跟踪、数据融合的基准数据集

---
[English](README.md) | 简体中文

## 目录
1. [数据集介绍](#介绍)
2. [数据集细节](#细节)
3. [数据集下载](#下载)
4. [评估](#评估)
5. [引用](#引用)

## 介绍
FVessel基准数据集用于评估AIS和视频数据融合算法的可靠性，主要包含海康威视DS-2DC4423IW-D球型摄像机和赛扬AIS9000-08 B类AIS接收机在武汉长江段拍摄的26个视频和相应的AIS数据。为了保护隐私，在我们的数据集中每艘船的 MMSI 已替换为随机数。图 1 展了FVessel数据集的部分样本。

![Figure04_FVessel](https://user-images.githubusercontent.com/48637474/210925024-15dcbcbe-717b-47b6-ad4b-377d71141380.jpg)
**图1. FVessel数据集的部分样本，其中包含在晴天、多云和弱光条件下在桥区和江边采集的大量图像和视频。**

## 细节

FVessel 数据集包含两部分:
* __01_Video+AIS__
* __02_Image+xml__

### 01_Video+AIS
`01_Video+AIS` 包含26个视频和对应的AIS数据以评估数据融合算法的性能。

|视频名称|视频时长|类型|天气|船舶遮挡次数|船舶总数|AIS船舶总数|
| :-: | :-: | :-: | :-: | :-: | :-: | :-: |
video-01|10m07s|桥区|弱光|2|5|4
video-02|19m52s|桥区|晴天|6|7|6
video-03|19m14s|江边|晴天|6|5|5
video-04|06m10s|江边|晴天|0|1|1
video-05|15m01s|江边|晴天|2|5|5
video-06|12m49s|江边|晴天|2|4|4
video-07|03m38s|江边|晴天|1|2|2
video-08|16m05s|江边|晴天|3|6|5
video-09|05m25s|江边|晴天|0|1|1
video-10|11m17s|桥区|多云|2|3|1
video-11|05m18s|江边|晴天|1|3|3
video-12|07m19s|江边|晴天|1|4|4
video-13|12m58s|江边|晴天|5|6|6
video-14|03m58s|江边|晴天|3|4|4
video-15|10m46s|江边|晴天|0|4|4
video-16|05m05s|江边|晴天|0|1|1
video-17|08m08s|江边|晴天|1|2|2
video-18|23m57s|江边|晴天|10|10|6
video-19|11m28s|江边|弱光|0|2|2
video-20|14m10s|江边|弱光|0|3|3
video-21|24m01s|江边|弱光|4|7|6
video-22|02m40s|江边|弱光|0|2|1
video-23|19m24s|江边|晴天|2|4|4
video-24|08m39s|江边|晴天|2|3|3
video-25|24m05s|江边|晴天|4|8|8
video-26|07m26s|江边|晴天|0|5|5

每一个视频数据包含如下文件:
* __(a) AIS文件__


  __2022_05_10_19_21_04.csv__

  |序号|MMSI|经度|纬度|航速|航向|船首向|类型|时间戳|
  | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
  0|100000000|114.325327|30.60166 |0  |293.6|511|18|1652181559844
  1|130000000|114.302683|30.58059 |6.8|33.6 |33 |18|1652181659157
  2|140000000|114.31004 |30.599997|3.9|215.6|511|18|1652181655147
  3|600000000|114.3156  |30.59773 |7.2|39.6 |511|18|1652181649704
  ...|...|...|... |...|... |...|...|...

  __2022_05_10_19_21_05.csv__   
  __2022_05_10_19_21_06.csv__   
  __...__
  
  
    (每个csv文件包含十分钟内的AIS数据并且仅保存每艘船舶最近时刻的数据。)
 * __(b) 视频__

    __2022_05_10_19_21_05_19_31_10_b.mp4__  
    
    开始时间: 2022_05_10_19_21_05
    结束时间: 2022_05_10_19_31_10
    类型: b/r (桥区/江边)
   
  * __(c) 相机参数__
  
    __camera_para.txt__

    |经度|纬度|水平朝向|俯仰角|相机高度|水平视场角|垂直视场角|fx|fy|u0|v0|
    | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
    114.32583|30.60139|7|-1|20| 55 | 30.94 | 2391.26 | 2446.89 | 1305.04 | 855.214 |
    
    fx, fy, u0, 和 v0 是相机内参矩阵。
* __(d) GT (真实情况: 采用多目标跟踪MOT格式)__
    
    __Video-02_gt.mp4__
    
    包含真实情况的视频，每秒仅一次。
    
    __Video-02_gt_detection.txt__
    
    ```
    <秒>, <0>, <边界框_左>, <边界框_上>, <边界框_宽度>, <边界框_高度>, <置信度>, <x>, <y>, <z>
    ```
    
    __Video-02_gt_tracking.txt__
    
    ```
    <秒>, <id号>, <边界框_左>, <边界框_上>, <边界框_宽度>, <边界框_高度>, <置信度>, <x>, <y>, <z>
    ```
    
    __Video-02_gt_fusion.txt__
    
    ```
    <秒>, <mmsi>, <边界框_左>, <边界框_上>, <边界框_宽度>, <边界框_高度>, <置信度>, <x>, <y>, <z>
    ```

### 02_Image+xml

`02_Image+xml` 包含7625张海事图像以及对应的用于目标检测网络训练的xml文件，该数据集只有一类"vessel"。

## 下载
我们只发布来自`01_Video+AIS`的四个视频和AIS数据。 如果您需要更多数据集，请联系我们。   

链接：https://pan.baidu.com/s/1yeY1Igund8gjTnqZsyqI_A 

提取码：oinv 



## 评估

* 安装 [motmetrics](https://github.com/cheind/py-motmetrics)；

* 将此项目的`motmetrics`中的两个文件复制到已安装的motmetrics文件夹中；

* 将测试文件保存到`sample`文件夹；

* 选择评估类型 `detection`, `tracking`, 和 `fusion`；

* 运行 `eval.py`。

## 引用

#### 如果您有更多问题，请联系我们 (yuguo@whut.edu.cn & wenliu@whut.edu.cn)。
